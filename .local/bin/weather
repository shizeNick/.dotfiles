#!/bin/bash
loc=$(cat "$HOME/.local/bin/location")
firstry=$(curl -s "wttr.in/${loc}?T" | grep -m 1 "Â°C" | awk '{print $(NF-1) $NF}')
number=$(echo "${firstry}" | sed -E 's/^([+-]?[0-9]+).*$/\1/')
if [[ -z "${number}" || ! "${number}" =~ ^[+-]?[0-9]+$ ]]; then
    printf "ğŸŒ¡ï¸ Error"
    exit 1
fi

if (( number >= 19 )) ; then
    printf "ğŸŒ %s" "${firstry}"
elif (( number < 19 && number >= 4 )) ; then
    printf "ğŸƒ %s" "${firstry}"
elif (( number < 4 )) ; then
    printf "ğŸ¥¶ %s" "${firstry}"
else
    printf "ğŸŒˆ %s" "${firstry}"
fi
